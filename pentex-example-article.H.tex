\usepackage{xeCJK,xeCJKfntef}
\usepackage{calc,fontspec,listings,tcolorbox,paralist,enumitem}


\setmainfont{TeX Gyre Termes}
\setromanfont{TeX Gyre Termes}
\setsansfont{Latin Modern Sans}
\setmonofont{JetBrains Mono NL}


% ============================================
% Style settings
% ============================================
\frenchspacing
\linespread{1.21}
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=cyan,
    citecolor=magenta,
}




% ============================================
% Overwrite some default commands
% ============================================

\let\oldstdhref\href
\renewcommand{\href}[2]{\oldstdhref{#1}{\textcolor{orange!80!black}{\CJKunderline{#2}}}}

\let\oldstdtableofcontents\tableofcontents
\renewcommand{\tableofcontents}[0]{\oldstdtableofcontents\vfill\clearpage}













% ============================================
% <pre> and <code>
% ============================================
\makeatletter
\renewcommand{\texttt}[1]{%
    \mbox{\textcolor{black!18!red}{\ttfamily#1}}%
}
\renewenvironment{Shaded}{\begingroup\small\begin{tcolorbox}[colback=black!3!white,colframe=black!25!white,boxrule=0.3pt,arc=0pt,top=2pt,bottom=2pt,left=2pt,right=2pt]}{\end{tcolorbox}\endgroup}
\makeatother
